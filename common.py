import pathlib
import os
import json

def load_flags():
    with open('config.json', 'rt') as f:
        data = json.load(f)
        if 'flags' not in data:
            raise Exception('No flags in config')

        print('Flags config loaded!')
        return data['flags']


def get_tasks():
    tasks = filter(lambda f: f.is_dir(), os.scandir('./tasks'))
    tasks = map(lambda f: (f.name, pathlib.Path(f.path)), tasks)
    tasks = sorted(tasks, key=lambda x: x[0])
    return tasks
