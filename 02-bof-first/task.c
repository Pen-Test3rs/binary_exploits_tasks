#include <stdlib.h>
#include <stdio.h>
#include <string.h>
#include <unistd.h>
extern 

int main(int argc, char *argv[]) {
  printf("Task 02 - First buffer overflow:\n");
  printf("---------------\n");
  fflush(NULL);
  volatile int x = 9;
  char buffer[16];
  memset(buffer,0, sizeof(buffer));
  init_visualize(buffer); 
  visualize(buffer);
  gets(buffer);
  visualize(buffer);
  
  printf("Please fill the buffer with text: ");
  fflush(NULL);

  if(x == 88){
    printf("Sucess, you changed the program flow by overwriting variable on stack.\n");
    printf("Flag is yours:\n");
    system("cat ./flag");
    printf("\n");
  }
  else{
    printf("Nothing happened. Try again.");
  }
  return 0;
}

